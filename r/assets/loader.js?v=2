window.Modernizr=function(aj,ai,ah){function H(b){ab.cssText=b}function G(d,c){return H(prefixes.join(d+";")+(c||""))}function F(d,c){return typeof d===c}function U(d,c){return !!~(""+d).indexOf(c)}function S(f,c){for(var h in f){var g=f[h];if(!U(g,"-")&&ab[g]!==ah){return c=="pfx"?g:!0}}return !1}function Q(g,c,j){for(var i in g){var h=c[g[i]];if(h!==ah){return j===!1?g[i]:F(h,"function")?h.bind(j||c):h}}return !1}function O(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+X.join(i+" ")+i).split(" ");return F(f,"string")||F(f,"undefined")?S(h,f):(h=(g+" "+W.join(i+" ")+i).split(" "),Q(h,f,j))}var ag="2.6.2",af={},ae=ai.documentElement,ad="modernizr",ac=ai.createElement(ad),ab=ac.style,aa,Z={}.toString,Y="Webkit Moz O ms",X=Y.split(" "),W=Y.toLowerCase().split(" "),V={},T={},R={},P=[],N=P.slice,M,K=function(v,u,t,s){var r,q,p,o,g=ai.createElement("div"),f=ai.body,b=f||ai.createElement("body");if(parseInt(t,10)){while(t--){p=ai.createElement("div"),p.id=s?s[t]:ad+(t+1),g.appendChild(p)}}return r=["&#173;",'<style id="s',ad,'">',v,"</style>"].join(""),g.id=ad,(f?g:b).innerHTML+=r,b.appendChild(g),f||(b.style.background="",b.style.overflow="hidden",o=ae.style.overflow,ae.style.overflow="hidden",ae.appendChild(b)),q=u(g,v),f?g.parentNode.removeChild(g):(b.parentNode.removeChild(b),ae.style.overflow=o),!!q},J={}.hasOwnProperty,I;!F(J,"undefined")&&!F(J.call,"undefined")?I=function(d,c){return J.call(d,c)}:I=function(d,c){return c in d&&F(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=N.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(N.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(N.call(arguments)))};return f}),V.csscolumns=function(){return O("columnCount")},V.csstransitions=function(){return O("transition")};for(var L in V){I(V,L)&&(M=L.toLowerCase(),af[M]=V[L](),P.push((af[M]?"":"no-")+M))}return af.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&af.addTest(f,e[f])}}else{e=e.toLowerCase();if(af[e]!==ah){return af}c=typeof c=="function"?c():c,typeof enableClasses!="undefined"&&enableClasses&&(ae.className+=" "+(c?"":"no-")+e),af[e]=c}return af},H(""),ac=aa=null,af._version=ag,af._domPrefixes=W,af._cssomPrefixes=X,af.testProp=function(b){return S([b])},af.testAllProps=O,af.testStyles=K,af}(this,this.document);(function(b,a){b.addTest("positionfixed",function(){var h=document.createElement("div"),g=h.cloneNode(false),d=false,c=document.body||(function(){d=true;return document.documentElement.appendChild(document.createElement("body"))}());var f=c.style.cssText;c.style.cssText="padding:0;margin:0";h.style.cssText="position:fixed;top:42px";c.appendChild(h);c.appendChild(g);var e=h.offsetTop!==g.offsetTop;c.removeChild(h);c.removeChild(g);c.style.cssText=f;if(d){document.documentElement.removeChild(c)}return e});b.addTest("iospositionfixed",function(){var j=document.createElement("div"),f,e=false,d=document.body||(function(){e=true;return document.documentElement.appendChild(document.createElement("body"))}());if(typeof document.body.scrollIntoViewIfNeeded==="function"){var g=d.style.cssText,i=20,h=a.pageYOffset;d.appendChild(j);j.style.cssText="position:fixed;top:0px;height:10px;";d.style.height="3000px";var c=function(){if(f===undefined){j.scrollIntoViewIfNeeded();if(a.pageYOffset===i){f=true}else{f=false}}a.removeEventListener("scroll",c,false)};a.addEventListener("scroll",i,false);a.setTimeout(c,20);a.scrollTo(0,i);c();d.removeChild(j);d.style.cssText=g;a.scrollTo(0,h)}else{f=b.positionfixed}if(e){document.documentElement.removeChild(d)}return f})})(Modernizr,window);var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function(d){for(var a=0;a<d.length;a++){var b=d[a].string;var c=d[a].prop;this.versionSearchString=d[a].versionSearch||d[a].identity;if(b){if(b.indexOf(d[a].subString)!=-1){return d[a].identity}}else{if(c){return d[a].identity}}}},searchVersion:function(b){var a=b.indexOf(this.versionSearchString);if(a==-1){return}return parseFloat(b.substring(a+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",identity:"OmniWeb",versionSearch:"OmniWeb/"},{string:navigator.userAgent,subString:"SymbianOS",identity:"Symbian",versionSearch:"SymbianOS"},{string:navigator.userAgent,subString:"Symbian",identity:"Symbian",versionSearch:"Symbian"},{string:navigator.userAgent,subString:"Profile/MIDP",identity:"Symbian"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"IEMobile",identity:"IEMobile"},{string:navigator.userAgent,subString:"XBLWP7",identity:"IEMobile",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"WPDesktop",identity:"IEMobile",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"OSRE",identity:"Symbian"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Android",identity:"Android"},{string:navigator.platform,subString:"Linux",identity:"Linux"},{string:navigator.platform,subString:"Symbian",identity:"Symbian"}]};BrowserDetect.init();(function(win,doc,undefined){var settings,body,fakeBody,windowLoaded,head,docElem=doc.documentElement,testPass=false,mediaCookieA,mediaCookieB,toggledMedia=[];if(doc.getElementsByTagName){head=doc.getElementsByTagName("head")[0]||docElem}else{head=docElem}var mediaquery=function(){return true};win.enhance=function(options){options=options||{};settings={};for(var name in enhance.defaultSettings){var option=options[name];settings[name]=option!==undefined?option:enhance.defaultSettings[name]}for(var test in options.addTests){settings.tests[test]=options.addTests[test]}if(docElem.className.indexOf(settings.testName)===-1){docElem.className+=" "+settings.testName}mediaCookieA=settings.testName+"-toggledmediaA";mediaCookieB=settings.testName+"-toggledmediaB";toggledMedia=[readCookie(mediaCookieA),readCookie(mediaCookieB)];setTimeout(function(){if(!testPass){removeHTMLClass()}},3000);runTests();applyDocReadyHack();windowLoad(function(){windowLoaded=true})};enhance.query=mediaquery;enhance.defaultTests={getById:function(){return !!doc.getElementById},getByTagName:function(){return !!doc.getElementsByTagName},createEl:function(){return !!doc.createElement},boxmodel:function(){var newDiv=doc.createElement("div");newDiv.style.cssText="width: 1px; padding: 1px;";body.appendChild(newDiv);var divWidth=newDiv.offsetWidth;body.removeChild(newDiv);return divWidth===3},position:function(){var newDiv=doc.createElement("div");newDiv.style.cssText="position: absolute; left: 10px;";body.appendChild(newDiv);var divLeft=newDiv.offsetLeft;body.removeChild(newDiv);return divLeft===10},floatClear:function(){var pass=false,newDiv=doc.createElement("div"),style='style="width: 5px; height: 5px; float: left;"';newDiv.innerHTML="<div "+style+"></div><div "+style+"></div>";body.appendChild(newDiv);var childNodes=newDiv.childNodes,topA=childNodes[0].offsetTop,divB=childNodes[1],topB=divB.offsetTop;if(topA===topB){divB.style.clear="left";topB=divB.offsetTop;if(topA!==topB){pass=true}}body.removeChild(newDiv);return pass},heightOverflow:function(){var newDiv=doc.createElement("div");newDiv.innerHTML='<div style="height: 10px;"></div>';newDiv.style.cssText="overflow: hidden; height: 0;";body.appendChild(newDiv);var divHeight=newDiv.offsetHeight;body.removeChild(newDiv);return divHeight===0},ajax:function(){var xmlhttp=false,index=-1,factory,XMLHttpFactories=[function(){return new XMLHttpRequest()},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];while((factory=XMLHttpFactories[++index])){try{xmlhttp=factory()}catch(e){continue}break}return !!xmlhttp},resize:function(){return win.onresize!=false},print:function(){return !!win.print}};enhance.defaultSettings={testName:"enhanced",loadScripts:[],loadStyles:[],queueLoading:true,appendToggleLink:true,forcePassText:"View high-bandwidth version",forceFailText:"View low-bandwidth version",tests:enhance.defaultTests,media:{"-ejs-desktop":enhance.query("screen and (max-device-width: 1024px)")?"not screen and (max-device-width: 1024px)":"screen","-ejs-handheld":"screen and (max-device-width: 1024px)"},addTests:{},alertOnFailure:false,onPass:function(){},onFail:function(){},onLoadError:addIncompleteClass,onScriptsLoaded:function(){}};function cookiesSupported(){return !!doc.cookie}enhance.cookiesSupported=cookiesSupported();function forceFail(){createCookie(settings.testName,"fail");win.location.reload()}if(enhance.cookiesSupported){enhance.forceFail=forceFail}function forcePass(){createCookie(settings.testName,"pass");win.location.reload()}if(enhance.cookiesSupported){enhance.forcePass=forcePass}function reTest(){eraseCookie(settings.testName);win.location.reload()}if(enhance.cookiesSupported){enhance.reTest=reTest}function addFakeBody(){fakeBody=doc.createElement("body");docElem.insertBefore(fakeBody,docElem.firstChild);body=fakeBody}function removeFakeBody(){docElem.removeChild(fakeBody);body=doc.body}function runTests(){var result=readCookie(settings.testName);if(result){if(result==="pass"){enhancePage();settings.onPass()}else{settings.onFail();removeHTMLClass()}if(settings.appendToggleLink){windowLoad(function(){appendToggleLinks(result)})}}else{var pass=true;addFakeBody();for(var name in settings.tests){pass=settings.tests[name]();if(!pass){if(settings.alertOnFailure){alert(name+" failed")}break}}removeFakeBody();result=pass?"pass":"fail";createCookie(settings.testName,result);if(pass){enhancePage();settings.onPass()}else{settings.onFail();removeHTMLClass()}if(settings.appendToggleLink){windowLoad(function(){appendToggleLinks(result)})}}}function windowLoad(callback){if(windowLoaded){callback()}else{var oldonload=win.onload;win.onload=function(){if(oldonload){oldonload()}callback()}}}function appendToggleLinks(result){if(!settings.appendToggleLink||!enhance.cookiesSupported){return}if(result){var a=doc.createElement("a");a.href="#";a.className=settings.testName+"_toggleResult";a.innerHTML=result==="pass"?settings.forceFailText:settings.forcePassText;a.onclick=result==="pass"?enhance.forceFail:enhance.forcePass;var parent=settings.appendToggleLink===true?doc.getElementsByTagName("body")[0]:doc.getElementById(settings.appendToggleLink);if(parent){parent.appendChild(a)}}}function removeHTMLClass(){docElem.className=docElem.className.replace(settings.testName,"")}function enhancePage(){testPass=true;if(settings.loadStyles.length){appendStyles()}if(settings.loadScripts.length){appendScripts()}else{settings.onScriptsLoaded()}}function toggleMedia(mediaA,mediaB){if(readCookie(mediaCookieA)&&readCookie(mediaCookieB)){eraseCookie(mediaCookieA);eraseCookie(mediaCookieB)}else{createCookie(mediaCookieA,mediaA);createCookie(mediaCookieB,mediaB)}win.location.reload()}enhance.toggleMedia=toggleMedia;function mediaSwitch(q){if(toggledMedia.length==2){if(q==toggledMedia[0]){q=toggledMedia[1]}else{if(q==toggledMedia[1]){q=toggledMedia[0]}}}return q}function addIncompleteClass(){var errorClass=settings.testName+"-incomplete";if(docElem.className.indexOf(errorClass)===-1){docElem.className+=" "+errorClass}}function checkifsupported(ifsupported){if(ifsupported.constructor===Array){var allGood=true;for(var item in ifsupported){if(allGood){allGood=!!ifsupported[item]}}return allGood}else{return !!ifsupported}}function appendStyles(){var index=-1,item;while((item=settings.loadStyles[++index])){var link=doc.createElement("link");link.type="text/css";link.rel="stylesheet";link.onerror=settings.onLoadError;if(typeof item==="string"){link.href=item;head.appendChild(link)}else{if(item.media){item.media=mediaSwitch(item.media);if(settings.media){if(settings.media[item.media]!==undefined){item.media=settings.media[item.media]}}}if(item.excludemedia){item.excludemedia=mediaSwitch(item.excludemedia)}var applies=true;if(item.media&&item.media!=="print"&&item.media!=="projection"&&item.media!=="speech"&&item.media!=="aural"&&item.media!=="braille"){applies=mediaquery(item.media)}if(applies&&item.excludemedia){applies=!mediaquery(item.excludemedia)}if(applies&&item.iecondition){applies=isIE(item.iecondition)}if(applies&&item.ifsupported!==undefined){applies=checkifsupported(item.ifsupported);if(!applies&&item.fallback!==undefined){item.href=item.fallback;applies=true}}if(applies){for(var attr in item){if(attr!=="iecondition"&&attr!=="excludemedia"&&attr!=="ifsupported"&&attr!=="fallback"){link.setAttribute(attr,item[attr])}}head.appendChild(link)}}}}var isIE=(function(){var cache={},b;return function(condition){if(
/*@cc_on!@*/
true){return false}var cc="IE";if(condition){if(condition!=="all"){if(!isNaN(parseFloat(condition))){cc+=" "+condition}else{cc=condition}}}if(cache[cc]===undefined){b=b||doc.createElement("B");b.innerHTML="<!--[if "+cc+"]><b></b><![endif]-->";cache[cc]=!!b.getElementsByTagName("b").length}return cache[cc]}})();function appendScripts(){settings.queueLoading?appendScriptsSync():appendScriptsAsync()}function appendScriptsSync(){var queue=[].concat(settings.loadScripts);function next(){if(queue.length===0){return false}var item=queue.shift(),script=createScriptTag(item),done=false;if(script){script.onload=script.onreadystatechange=function(){if(!done&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){done=true;if(next()===false){settings.onScriptsLoaded()}this.onload=this.onreadystatechange=null}};head.insertBefore(script,head.firstChild)}else{return next()}}next()}function appendScriptsAsync(){var index=-1,item;while((item=settings.loadScripts[++index])){var script=createScriptTag(item);if(script){head.insertBefore(script,head.firstChild)}}settings.onScriptsLoaded()}function createScriptTag(item){var script=doc.createElement("script");script.type="text/javascript";script.onerror=settings.onLoadError;if(typeof item==="string"){script.src=item;return script}else{if(item.media){item.media=mediaSwitch(item.media);if(settings.media){if(settings.media[item.media]){item.media=settings.media[item.media]}}}if(item.excludemedia){item.excludemedia=mediaSwitch(item.excludemedia)}var applies=true;if(item.media){applies=mediaquery(item.media)}if(applies&&item.excludemedia){applies=!mediaquery(item.excludemedia)}if(applies&&item.iecondition){applies=isIE(item.iecondition)}if(applies&&item.ifsupported!==undefined){applies=checkifsupported(item.ifsupported);if(!applies&&item.fallback!==undefined){item.src=item.fallback;applies=true}}if(applies){for(var attr in item){if(attr!=="iecondition"&&attr!=="media"&&attr!=="excludemedia"&&attr!=="ifsupported"&&attr!=="fallback"){script.setAttribute(attr,item[attr])}}return script}else{return false}}}function createCookie(name,value,days){days=days||90;var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));var expires="; expires="+date.toGMTString();doc.cookie=name+"="+value+expires+"; path=/"}function readCookie(name){var nameEQ=name+"=";var ca=doc.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)==0){return c.substring(nameEQ.length,c.length)}}return null}function eraseCookie(name){createCookie(name,"",-1)}function applyDocReadyHack(){if(doc.readyState==null&&doc.addEventListener){doc.addEventListener("DOMContentLoaded",function DOMContentLoaded(){doc.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);doc.readyState="complete"},false);doc.readyState="loading"}}})(window,document);